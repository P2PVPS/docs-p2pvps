<div class="hd">
    <input id="search" type="search" placeholder="search" />
    <label><input id="show-desc" type="checkbox" /> Show Description</label>
</div>
<div class="bd">
    <div class="toc">
        
            <h3 class="toc-mod-title"><a href="1.Quick-Start_doc.html">1.Quick-Start</a></h3>
            <div class="toc-list">
                
            </div>
        
            <h3 class="toc-mod-title"><a href="2.Specifications_doc.html">2.Specifications</a></h3>
            <div class="toc-list">
                
                <a class="toc-item" href="2.Specifications_doc.html#Definitions">
                    <h4>Definitions</h4>
                    <span class="desc"><ul>
<li><em>Client</em> or <em>Device</em> includes IoT devices, servers, and anything in between. This term encompasses any device capable of running Docker and executing the
client software</li>
<li><em>Server</em> is an internet connected computer capable of running the software in this repository.</li>
<li><em>Device Owners</em> are the owners of the Client devices.</li>
<li><em>Renters</em> are users who rent the Client device from the Device Owners.</li>
</ul></span>
                </a>
                
                <a class="toc-item" href="2.Specifications_doc.html#Client-Overview">
                    <h4>Client-Overview</h4>
                    <span class="desc">The purpose of the client side software is to create a virtual private server (<strong>VPS</strong>) environment similar to those hosted by cloud companies like Digital
Ocean or AWS EC2. This is achieved on an IoT device by running a Linux shell inside
a Docker container. Small, inexpensive, distributed hardware like Raspberry Pi
minicomputers now posses the computational power to host such an environment.</span>
                </a>
                
                <a class="toc-item" href="2.Specifications_doc.html#Server-Overview">
                    <h4>Server-Overview</h4>
                    <span class="desc">The primary purpose of the server software is to orchestrate the network of devices and facilitate financial transactions via OpenBazaar.
Its secondary purpose is to connect with other servers, in order to establish a
peer-to-peer (P2P) marketplace, with no central point of failure. These goals are achieved by splitting the server into two software stacks: The <em>front end</em> and the <em>back end</em>.</span>
                </a>
                
                <a class="toc-item" href="2.Specifications_doc.html#Server-Deployment-Overview">
                    <h4>Server-Deployment-Overview</h4>
                    <span class="desc">The Server Deployment repository is primarily concerned with helping people start up their own P2P VPS marketplace by easily deploying the software onto a Linux cloud
server. This is accomplished by modularizing the major pieces of software into Docker
containers and then orchestrating their communication with Docker Compose. It is
made up of the following high level features:</span>
                </a>
                
                <a class="toc-item" href="2.Specifications_doc.html#High-Level-Workflow">
                    <h4>High-Level-Workflow</h4>
                    <span class="desc">The sections below give additional details on how the system-as-a-whole works. Lower level specifications will be captured in the respective specification
document for Client, Server, and Server Deployment.</span>
                </a>
                
            </div>
        
            <h3 class="toc-mod-title"><a href="3.Client_doc.html">3.Client</a></h3>
            <div class="toc-list">
                
                <a class="toc-item" href="3.Client_doc.html#Governor-">
                    <h4>Governor-(p2p-vps-client.js)</h4>
                    <span class="desc">The primary purpose of the governor software is to manage the Docker container and communicate with the P2P VPS server. This application runs on the host operating system, outside the
Docker container. It plays the following roles:
<ul>
<li>It reads the <code>device-config.json</code> file and registers the Client device with the P2P VPS server.</li>
<li>It builds the Docker container with information returned by the server after registration.</li>
<li>It launches the Docker container after being built.</li>
<li>It sends a heartbeat signal to the P2P VPS server every 10 minutes. The server responds with an expiration date.</li>
<li>When the expiration date is reached, the governor software stops the Docker container and wipes the flash drive.
It then reregisters itself with the P2P VPS marketplace.</li>
</ul></span>
                </a>
                
                <a class="toc-item" href="3.Client_doc.html#Docker-Container">
                    <h4>Docker-Container</h4>
                    <span class="desc">A Docker container is generated by the <code>p2p-vps-client.js</code> governor application. The Owner initiates the creation of the Docker container by registering the device
in the Device Management Dashboard. They are given a GUID, which they
then copy to the file <code>device-config.json</code>. <code>p2p-vps-client.js</code> reads this file
and makes a REST API call to the server to register itself.</span>
                </a>
                
                <a class="toc-item" href="3.Client_doc.html#Persistent-Storage">
                    <h4>Persistent-Storage</h4>
                    <span class="desc">Persistent storage can take many forms, but a USB flash drive will be encouraged, as SD cards have shown reliability issues. Most IoT devices, like the Raspberry
Pi can boot off an SD card. Extra storage can
easily be accommodated through USB flash drives or even USB external hard drives.
64GB Flash drives will be a (rough) standard due to their availability and low prices.</span>
                </a>
                
                <a class="toc-item" href="3.Client_doc.html#Deployment-Packages">
                    <h4>Deployment-Packages</h4>
                    <span class="desc">A collection of scripts will be made available to renters. These are preconfigured shell scripts or some other type of package manager that allows
them to quickly deploy common web services like NextCloud, a blog, a webserver,
a single page application development environment, a TOR node, an OpenBazaar
server, VPN software, etc. Easy scripts to deploy many of
these use cases.</span>
                </a>
                
                <a class="toc-item" href="3.Client_doc.html#Testing">
                    <h4>Testing</h4>
                    <span class="desc">Unit testing is initially planning to use Mocha, but we could use any platform at this stage. We could really use help with getting a solid unit testing library
in place for Client software. Contact us if you'd
like to help with this effort.</span>
                </a>
                
            </div>
        
            <h3 class="toc-mod-title"><a href="4.Server_doc.html">4.Server</a></h3>
            <div class="toc-list">
                
                <a class="toc-item" href="4.Server_doc.html#Rental-Search-UI">
                    <h4>Rental-Search-UI</h4>
                    <span class="desc">At present, the rental search user interface (<strong>UI</strong>) has not been designed.</span>
                </a>
                
                <a class="toc-item" href="4.Server_doc.html#Device-Management-Dashboard-UI">
                    <h4>Device-Management-Dashboard-UI</h4>
                    <span class="desc">An early prototype of the Device Management Dashboard can be accessed at p2pvps.net. The dashboard allows device owners to manage
the devices subscribed to the P2P VPS server. It's primary features are:</span>
                </a>
                
                <a class="toc-item" href="4.Server_doc.html#Database-API">
                    <h4>Database-API</h4>
                    <span class="desc">Each device registered into the marketplace gets two database models, called <code>devicePublicModel</code> and <code>devicePrivateModel</code>.
Most data about a device is assumed to be public. Specifically, private things
like the SSH port, username, password, and user account of the renter is kept
in the private DB model. Security checks are done to ensure only admins,
device owners, or active device renters can access the private model.</span>
                </a>
                
                <a class="toc-item" href="4.Server_doc.html#Content-Management-System-">
                    <h4>Content-Management-System-(CMS)</h4>
                    <span class="desc">Content will be managed with ConnextCMS, an extension for KeystoneJS.
This covers the scope of blog posts, the home page, about page, and other web pages.</span>
                </a>
                
                <a class="toc-item" href="4.Server_doc.html#OpenBazaar-Transactions">
                    <h4>OpenBazaar-Transactions</h4>
                    <span class="desc">OpenBazaar (<strong>OB</strong>) will be leveraged to handle the transactions between Owners and Renters. When an Owner submits their device to
the P2P VPS Marketplace, the Server will be responsible for generating a contract
on the OpenBazaar network. Renters then purchase the contract using their own
OpenBazaar application. Login and password for the rented device is passed to them
through the 'Fulfilled' stage of the ordering process.</span>
                </a>
                
                <a class="toc-item" href="4.Server_doc.html#Port-Control">
                    <h4>Port-Control</h4>
                    <span class="desc">This is a Database API that is used to manage a list of available SSH ports for making reverse SSH tunnel connections between the Server and Client devices.</span>
                </a>
                
                <a class="toc-item" href="4.Server_doc.html#Testing">
                    <h4>Testing</h4>
                    <span class="desc">Testing of the server code will be different from the standpoint <em>front end</em> and <em>back end</em>.</span>
                </a>
                
            </div>
        
            <h3 class="toc-mod-title"><a href="5.Server-Deployment_doc.html">5.Server-Deployment</a></h3>
            <div class="toc-list">
                
                <a class="toc-item" href="5.Server-Deployment_doc.html#ConnextCMS">
                    <h4>ConnextCMS</h4>
                    <span class="desc">ConnextCMS, an extension for KeystoneJS, is used as the Content Management System
(CMS) for P2P VPS.
The P2P VPS server deployment respository
started as a fork of the Docker ConnextCMS
deployment repository. The P2P VPS Server repository was originally forked from the
Vue.js Site Template example.
Additional Docker containers, described here, were added to support P2P VPS.</span>
                </a>
                
                <a class="toc-item" href="5.Server-Deployment_doc.html#MongoDB">
                    <h4>MongoDB</h4>
                    <span class="desc">This is where information will go about this Docker container.</span>
                </a>
                
                <a class="toc-item" href="5.Server-Deployment_doc.html#Listing-Manager">
                    <h4>Listing-Manager</h4>
                    <span class="desc">This is where information will go about this Docker container.</span>
                </a>
                
                <a class="toc-item" href="5.Server-Deployment_doc.html#OpenBazaar">
                    <h4>OpenBazaar</h4>
                    <span class="desc">This is where information will go about this Docker container.</span>
                </a>
                
                <a class="toc-item" href="5.Server-Deployment_doc.html#SSH-Server">
                    <h4>SSH-Server</h4>
                    <span class="desc">This is where information will go about this Docker container.</span>
                </a>
                
                <a class="toc-item" href="5.Server-Deployment_doc.html#LocalTunnel">
                    <h4>LocalTunnel</h4>
                    <span class="desc">This is where information will go about this Docker container. </span>
                </a>
                
            </div>
        
            <h3 class="toc-mod-title"><a href="y.Contributing_doc.html">y.Contributing</a></h3>
            <div class="toc-list">
                
            </div>
        
            <h3 class="toc-mod-title"><a href="z.Rough-Draft-Specs_doc.html">z.Rough-Draft-Specs</a></h3>
            <div class="toc-list">
                
                <a class="toc-item" href="z.Rough-Draft-Specs_doc.html#Rough-Draft-Specs">
                    <h4>Rough-Draft-Specs</h4>
                    <span class="desc"></span>
                </a>
                
            </div>
        
    </div>
</div>
